
[ *********** ProcessPostList  Start *********** ]  2016-10-23 10:41:44


[ @sqlQueryFollows@ ]  2016-10-23 10:41:44
SELECT `follow_id` FROM `yd_user_follow` WHERE `is_valid`=1 AND `leader_id` ="16855"

[ @sqlPost@ ]  2016-10-23 10:41:44
SELECT A.post_id,A.leader_id,B.user_name AS poster_name,B.avatar AS poster_avatar,A.post_time,A.content AS post_content
                    FROM `yd_post` AS A
                    LEFT JOIN `yd_user` AS B ON A.leader_id = B.leader_id
                    WHERE A.leader_id  in (16855) AND A.post_id >"0" ORDER BY A.post_time DESC LIMIT 0,5

[ *********** ProcessPostList  Start *********** ]  2016-10-23 10:41:48


[ @sqlQueryFollows@ ]  2016-10-23 10:41:48
SELECT `follow_id` FROM `yd_user_follow` WHERE `is_valid`=1 AND `leader_id` ="16855"

[ @sqlPost@ ]  2016-10-23 10:41:48
SELECT A.post_id,A.leader_id,B.user_name AS poster_name,B.avatar AS poster_avatar,A.post_time,A.content AS post_content
                    FROM `yd_post` AS A
                    LEFT JOIN `yd_user` AS B ON A.leader_id = B.leader_id
                    WHERE A.leader_id  in (16855) AND A.post_id >"0" ORDER BY A.post_time DESC LIMIT 0,5

[ 群聊天历史记录 ]  2016-10-23 10:45:30
SELECT A.id AS chat_id, A.msg_content AS chat_content, A.msg_type AS chat_type, A.send_time AS chat_time,
                    C.user_name AS name,C.leader_id,C.avatar FROM `yd_groupmsg` AS A
                    LEFT JOIN `yd_group` AS B ON A.group_id = B.group_id
                    LEFT JOIN `yd_user` AS C ON A.sender_id = C.leader_id
                    WHERE A.send_time >"2016-10-23 10:39:57" AND A.group_id ="10000" AND A.id > (SELECT MAX(id) FROM `yd_groupmsg`) -10

[ 群聊天历史记录 ]  2016-10-23 10:45:32
SELECT A.id AS chat_id, A.msg_content AS chat_content, A.msg_type AS chat_type, A.send_time AS chat_time,
                    C.user_name AS name,C.leader_id,C.avatar FROM `yd_groupmsg` AS A
                    LEFT JOIN `yd_group` AS B ON A.group_id = B.group_id
                    LEFT JOIN `yd_user` AS C ON A.sender_id = C.leader_id
                    WHERE A.send_time >"2016-10-23 10:39:57" AND A.group_id ="10000" AND A.id > (SELECT MAX(id) FROM `yd_groupmsg`) -10

[ 群聊天历史记录 ]  2016-10-23 10:45:48
SELECT A.id AS chat_id, A.msg_content AS chat_content,A.msg_type AS chat_type, A.send_time AS chat_time,
                    C.user_name AS name, C.leader_id, C.avatar FROM `yd_groupmsg` AS A
                    LEFT JOIN `yd_group` AS B ON A.group_id = B.group_id
                    LEFT JOIN `yd_user` AS C ON A.sender_id = C.leader_id  WHERE A.send_time > "2016-10-23 10:39:57"
                    AND A.group_id="10000" AND A.id < "11"  ORDER BY A.send_time DESC  LIMIT 0,10

[ 群照片列表 ]  2016-10-23 10:46:01
SELECT A.path,A.create_time FROM `yd_group_album_image` AS A
               LEFT JOIN `yd_group_album` AS B ON A.group_album_id = B.album_id
               WHERE B.group_id = 10000 AND A.is_valid = 1 AND B.is_valid = 1 ORDER BY A.create_time DESC

[ 群照片列表 ]  2016-10-23 10:46:01
[{"path":"img\/group\/201604251312291866540.jpeg","create_time":"2016-04-25 13:12:31"},{"path":"img\/group\/201604251312305047361.jpeg","create_time":"2016-04-25 13:12:31"},{"path":"img\/group\/201604251312302303252.jpeg","create_time":"2016-04-25 13:12:31"}]

[ 群照片列表 ]  2016-10-23 10:46:22
SELECT A.path,A.create_time FROM `yd_group_album_image` AS A
               LEFT JOIN `yd_group_album` AS B ON A.group_album_id = B.album_id
               WHERE B.group_id = 10000 AND A.is_valid = 1 AND B.is_valid = 1 ORDER BY A.create_time DESC

[ 群照片列表 ]  2016-10-23 10:46:23
[{"path":"img\/group\/201604251312291866540.jpeg","create_time":"2016-04-25 13:12:31"},{"path":"img\/group\/201604251312305047361.jpeg","create_time":"2016-04-25 13:12:31"},{"path":"img\/group\/201604251312302303252.jpeg","create_time":"2016-04-25 13:12:31"}]

[ 群照片列表 ]  2016-10-23 10:46:31
SELECT A.path,A.create_time FROM `yd_group_album_image` AS A
               LEFT JOIN `yd_group_album` AS B ON A.group_album_id = B.album_id
               WHERE B.group_id = 10000 AND A.is_valid = 1 AND B.is_valid = 1 ORDER BY A.create_time DESC

[ 群照片列表 ]  2016-10-23 10:46:31
[{"path":"img\/group\/201604251312291866540.jpeg","create_time":"2016-04-25 13:12:31"},{"path":"img\/group\/201604251312305047361.jpeg","create_time":"2016-04-25 13:12:31"},{"path":"img\/group\/201604251312302303252.jpeg","create_time":"2016-04-25 13:12:31"}]

[ 群公告列表 ]  2016-10-23 10:46:49
SELECT A.id as announce_id, A.group_id,A.leader_id,B.user_name,A.title,A.content,A.create_time FROM `yd_group_announce`
              AS A LEFT JOIN `yd_user` AS B ON A.leader_id = B.leader_id WHERE A.is_valid = 1 AND A.group_id = 10000 ORDER BY A.create_time DESC
